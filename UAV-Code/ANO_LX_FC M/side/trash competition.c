/*
#include "User_Task.h"
#include "Drv_RcIn.h"
#include "LX_FC_Fun.h"
#include "ANO_DT_LX.h"
#include "Drv_AnoOf.h"
#include "math.h"
#define speed_x 30
#define speed_y 30
#define speed_z 30
#define speed_yaw 30
u16 pid_speed=0;
u8 mission_flag=0;
u8 mission_done_flag=0;
s16 cnmcos[1280]={31.00,31.00,31.00,31.00,31.00,31.00,31.00,31.00,31.00,31.00,31.00,31.00,31.00,31.00,31.00,31.00,31.00,31.00,31.00,31.00,31.00,31.00,31.00,31.00,31.00,31.00,31.00,31.00,31.00,31.00,30.00,30.00,30.00,30.00,30.00,30.00,30.00,30.00,30.00,30.00,30.00,30.00,30.00,30.00,30.00,30.00,30.00,30.00,30.00,30.00,30.00,29.00,29.00,29.00,29.00,29.00,29.00,29.00,29.00,29.00,29.00,29.00,29.00,29.00,29.00,29.00,28.00,28.00,28.00,28.00,28.00,28.00,28.00,28.00,28.00,28.00,28.00,28.00,28.00,27.00,27.00,27.00,27.00,27.00,27.00,27.00,27.00,27.00,27.00,26.00,26.00,26.00,26.00,26.00,26.00,26.00,26.00,26.00,26.00,25.00,25.00,25.00,25.00,25.00,25.00,25.00,25.00,25.00,24.00,24.00,24.00,24.00,24.00,24.00,24.00,24.00,23.00,23.00,23.00,23.00,23.00,23.00,23.00,23.00,22.00,22.00,22.00,22.00,22.00,22.00,22.00,22.00,21.00,21.00,21.00,21.00,21.00,21.00,21.00,20.00,20.00,20.00,20.00,20.00,20.00,20.00,19.00,19.00,19.00,19.00,19.00,19.00,18.00,18.00,18.00,18.00,18.00,18.00,18.00,17.00,17.00,17.00,17.00,17.00,17.00,16.00,16.00,16.00,16.00,16.00,16.00,15.00,15.00,15.00,15.00,15.00,15.00,14.00,14.00,14.00,14.00,14.00,14.00,13.00,13.00,13.00,13.00,13.00,13.00,12.00,12.00,12.00,12.00,12.00,12.00,11.00,11.00,11.00,11.00,11.00,10.00,10.00,10.00,10.00,10.00,10.00,9.00,9.00,9.00,9.00,9.00,8.00,8.00,8.00,8.00,8.00,8.00,7.00,7.00,7.00,7.00,7.00,6.00,6.00,6.00,6.00,6.00,5.00,5.00,5.00,5.00,5.00,5.00,4.00,4.00,4.00,4.00,4.00,3.00,3.00,3.00,3.00,3.00,2.00,2.00,2.00,2.00,2.00,2.00,1.00,1.00,1.00,1.00,1.00,0.00,0.00,0.00,-1.00,-1.00,-1.00,-1.00,-1.00,-2.00,-2.00,-2.00,-2.00,-2.00,-3.00,-3.00,-3.00,-3.00,-3.00,-4.00,-4.00,-4.00,-4.00,-4.00,-4.00,-5.00,-5.00,-5.00,-5.00,-5.00,-6.00,-6.00,-6.00,-6.00,-6.00,-7.00,-7.00,-7.00,-7.00,-7.00,-7.00,-8.00,-8.00,-8.00,-8.00,-8.00,-9.00,-9.00,-9.00,-9.00,-9.00,-9.00,-10.00,-10.00,-10.00,-10.00,-10.00,-11.00,-11.00,-11.00,-11.00,-11.00,-11.00,-12.00,-12.00,-12.00,-12.00,-12.00,-13.00,-13.00,-13.00,-13.00,-13.00,-13.00,-14.00,-14.00,-14.00,-14.00,-14.00,-14.00,-15.00,-15.00,-15.00,-15.00,-15.00,-15.00,-16.00,-16.00,-16.00,-16.00,-16.00,-16.00,-17.00,-17.00,-17.00,-17.00,-17.00,-17.00,-18.00,-18.00,-18.00,-18.00,-18.00,-18.00,-19.00,-19.00,-19.00,-19.00,-19.00,-19.00,-19.00,-20.00,-20.00,-20.00,-20.00,-20.00,-20.00,-20.00,-21.00,-21.00,-21.00,-21.00,-21.00,-21.00,-21.00,-22.00,-22.00,-22.00,-22.00,-22.00,-22.00,-22.00,-23.00,-23.00,-23.00,-23.00,-23.00,-23.00,-23.00,-23.00,-24.00,-24.00,-24.00,-24.00,-24.00,-24.00,-24.00,-24.00,-25.00,-25.00,-25.00,-25.00,-25.00,-25.00,-25.00,-25.00,-26.00,-26.00,-26.00,-26.00,-26.00,-26.00,-26.00,-26.00,-26.00,-26.00,-27.00,-27.00,-27.00,-27.00,-27.00,-27.00,-27.00,-27.00,-27.00,-27.00,-28.00,-28.00,-28.00,-28.00,-28.00,-28.00,-28.00,-28.00,-28.00,-28.00,-28.00,-29.00,-29.00,-29.00,-29.00,-29.00,-29.00,-29.00,-29.00,-29.00,-29.00,-29.00,-29.00,-29.00,-29.00,-30.00,-30.00,-30.00,-30.00,-30.00,-30.00,-30.00,-30.00,-30.00,-30.00,-30.00,-30.00,-30.00,-30.00,-30.00,-30.00,-30.00,-31.00,-31.00,-31.00,-31.00,-31.00,-31.00,-31.00,-31.00,-31.00,-31.00,-31.00,-31.00,-31.00,-31.00,-31.00,-31.00,-31.00,-31.00,-31.00,-31.00,-31.00,-31.00,-31.00,-31.00,-31.00,-31.00,-31.00,-31.00,-31.00,-31.00,-31.00,-31.00,-31.00,-31.00,-31.00,-31.00,-31.00,-31.00,-31.00,-31.00,-31.00,-31.00,-31.00,-31.00,-31.00,-31.00,-31.00,-31.00,-31.00,-31.00,-31.00,-31.00,-31.00,-31.00,-31.00,-31.00,-31.00,-31.00,-31.00,-31.00,-31.00,-31.00,-31.00,-31.00,-31.00,-31.00,-31.00,-31.00,-31.00,-31.00,-31.00,-31.00,-31.00,-31.00,-31.00,-31.00,-31.00,-31.00,-31.00,-31.00,-31.00,-31.00,-31.00,-30.00,-30.00,-30.00,-30.00,-30.00,-30.00,-30.00,-30.00,-30.00,-30.00,-30.00,-30.00,-30.00,-30.00,-30.00,-30.00,-30.00,-29.00,-29.00,-29.00,-29.00,-29.00,-29.00,-29.00,-29.00,-29.00,-29.00,-29.00,-29.00,-29.00,-29.00,-28.00,-28.00,-28.00,-28.00,-28.00,-28.00,-28.00,-28.00,-28.00,-28.00,-28.00,-27.00,-27.00,-27.00,-27.00,-27.00,-27.00,-27.00,-27.00,-27.00,-27.00,-26.00,-26.00,-26.00,-26.00,-26.00,-26.00,-26.00,-26.00,-26.00,-26.00,-25.00,-25.00,-25.00,-25.00,-25.00,-25.00,-25.00,-25.00,-24.00,-24.00,-24.00,-24.00,-24.00,-24.00,-24.00,-24.00,-23.00,-23.00,-23.00,-23.00,-23.00,-23.00,-23.00,-23.00,-22.00,-22.00,-22.00,-22.00,-22.00,-22.00,-22.00,-21.00,-21.00,-21.00,-21.00,-21.00,-21.00,-21.00,-20.00,-20.00,-20.00,-20.00,-20.00,-20.00,-20.00,-19.00,-19.00,-19.00,-19.00,-19.00,-19.00,-19.00,-18.00,-18.00,-18.00,-18.00,-18.00,-18.00,-17.00,-17.00,-17.00,-17.00,-17.00,-17.00,-16.00,-16.00,-16.00,-16.00,-16.00,-16.00,-15.00,-15.00,-15.00,-15.00,-15.00,-15.00,-14.00,-14.00,-14.00,-14.00,-14.00,-14.00,-13.00,-13.00,-13.00,-13.00,-13.00,-13.00,-12.00,-12.00,-12.00,-12.00,-12.00,-11.00,-11.00,-11.00,-11.00,-11.00,-11.00,-10.00,-10.00,-10.00,-10.00,-10.00,-9.00,-9.00,-9.00,-9.00,-9.00,-9.00,-8.00,-8.00,-8.00,-8.00,-8.00,-7.00,-7.00,-7.00,-7.00,-7.00,-7.00,-6.00,-6.00,-6.00,-6.00,-6.00,-5.00,-5.00,-5.00,-5.00,-5.00,-4.00,-4.00,-4.00,-4.00,-4.00,-4.00,-3.00,-3.00,-3.00,-3.00,-3.00,-2.00,-2.00,-2.00,-2.00,-2.00,-1.00,-1.00,-1.00,-1.00,-1.00,0.00,0.00,0.00,1.00,1.00,1.00,1.00,1.00,2.00,2.00,2.00,2.00,2.00,2.00,3.00,3.00,3.00,3.00,3.00,4.00,4.00,4.00,4.00,4.00,5.00,5.00,5.00,5.00,5.00,5.00,6.00,6.00,6.00,6.00,6.00,7.00,7.00,7.00,7.00,7.00,8.00,8.00,8.00,8.00,8.00,8.00,9.00,9.00,9.00,9.00,9.00,10.00,10.00,10.00,10.00,10.00,10.00,11.00,11.00,11.00,11.00,11.00,12.00,12.00,12.00,12.00,12.00,12.00,13.00,13.00,13.00,13.00,13.00,13.00,14.00,14.00,14.00,14.00,14.00,14.00,15.00,15.00,15.00,15.00,15.00,15.00,16.00,16.00,16.00,16.00,16.00,16.00,17.00,17.00,17.00,17.00,17.00,17.00,18.00,18.00,18.00,18.00,18.00,18.00,18.00,19.00,19.00,19.00,19.00,19.00,19.00,20.00,20.00,20.00,20.00,20.00,20.00,20.00,21.00,21.00,21.00,21.00,21.00,21.00,21.00,22.00,22.00,22.00,22.00,22.00,22.00,22.00,22.00,23.00,23.00,23.00,23.00,23.00,23.00,23.00,23.00,24.00,24.00,24.00,24.00,24.00,24.00,24.00,24.00,25.00,25.00,25.00,25.00,25.00,25.00,25.00,25.00,25.00,26.00,26.00,26.00,26.00,26.00,26.00,26.00,26.00,26.00,26.00,27.00,27.00,27.00,27.00,27.00,27.00,27.00,27.00,27.00,27.00,28.00,28.00,28.00,28.00,28.00,28.00,28.00,28.00,28.00,28.00,28.00,28.00,28.00,29.00,29.00,29.00,29.00,29.00,29.00,29.00,29.00,29.00,29.00,29.00,29.00,29.00,29.00,29.00,30.00,30.00,30.00,30.00,30.00,30.00,30.00,30.00,30.00,30.00,30.00,30.00,30.00,30.00,30.00,30.00,30.00,30.00,30.00,30.00,30.00,31.00,31.00,31.00,31.00,31.00,31.00,31.00,31.00,31.00,31.00,31.00,31.00,31.00,31.00,31.00,31.00,31.00,31.00,31.00,31.00,31.00,31.00,31.00,31.00,31.00,31.00,31.00,31.00,31.00,31.00,31.00,31.00,31.00,31.00,31.00,31.00,31.00,31.00,31.00,31.00,31.00,31.00,31.00,31.00,31.00,31.00,31.00,31.00,31.00,31.00,31.00,31.00,31.00,31.00,31.00,31.00,31.00,31.00,31.00,30.00,30.00,30.00,30.00,30.00,30.00,30.00,30.00,30.00,30.00,30.00,30.00,30.00,30.00,30.00,30.00,30.00,30.00,30.00,30.00,30.00,29.00,29.00,29.00,29.00,29.00,29.00,29.00,29.00,29.00,29.00,29.00,29.00,29.00,29.00,29.00,28.00,28.00,28.00,28.00,28.00,28.00,28.00,28.00,28.00,28.00,28.00,28.00,28.00,27.00,27.00,27.00,27.00,27.00,27.00,27.00,27.00,27.00,27.00,26.00,26.00,26.00,26.00,26.00,26.00,26.00,26.00,26.00,26.00,25.00,25.00,25.00,25.00,25.00,25.00,25.00,25.00,25.00,24.00,24.00,24.00,24.00,24.00,24.00,24.00,24.00,23.00,23.00,23.00,23.00,23.00,23.00,23.00,23.00,22.00,22.00,22.00,22.00,22.00,22.00,22.00,22.00,21.00,21.00,21.00,21.00,21.00,21.00,21.00,20.00,20.00,20.00,20.00,20.00,20.00,20.00,19.00,19.00,19.00,19.00,19.00,19.00,18.00,18.00,18.00,18.00,18.00,18.00,18.00,17.00,17.00,17.00,17.00,17.00,17.00,16.00,16.00,16.00,16.00,16.00,16.00,15.00,15.00,15.00,15.00,15.00,15.00,14.00,14.00,14.00,14.00,14.00,14.00,13.00,13.00,13.00,13.00,13.00,13.00,12.00,12.00,12.00,12.00,12.00,12.00,11.00,11.00,11.00,11.00,11.00,10.00,10.00,10.00,10.00,10.00,10.00,9.00,9.00,9.00,9.00,9.00,8.00,8.00,8.00,8.00,8.00,8.00,7.00,7.00,7.00,7.00,7.00,6.00,6.00,6.00,6.00,6.00,5.00,5.00,5.00,5.00,5.00,5.00,4.00,4.00,4.00,4.00,4.00,3.00,3.00,3.00,3.00,3.00,2.00,2.00,2.00,2.00,2.00,2.00,1.00,1.00,1.00,1.00,1.00,0.00,0.00};
s16 cnmsin[1280]={0.00,0.00,0.00,1.00,1.00,1.00,1.00,1.00,2.00,2.00,2.00,2.00,2.00,2.00,3.00,3.00,3.00,3.00,3.00,4.00,4.00,4.00,4.00,4.00,5.00,5.00,5.00,5.00,5.00,5.00,6.00,6.00,6.00,6.00,6.00,7.00,7.00,7.00,7.00,7.00,8.00,8.00,8.00,8.00,8.00,8.00,9.00,9.00,9.00,9.00,9.00,10.00,10.00,10.00,10.00,10.00,10.00,11.00,11.00,11.00,11.00,11.00,12.00,12.00,12.00,12.00,12.00,12.00,13.00,13.00,13.00,13.00,13.00,13.00,14.00,14.00,14.00,14.00,14.00,14.00,15.00,15.00,15.00,15.00,15.00,15.00,16.00,16.00,16.00,16.00,16.00,16.00,17.00,17.00,17.00,17.00,17.00,17.00,18.00,18.00,18.00,18.00,18.00,18.00,18.00,19.00,19.00,19.00,19.00,19.00,19.00,20.00,20.00,20.00,20.00,20.00,20.00,20.00,21.00,21.00,21.00,21.00,21.00,21.00,21.00,22.00,22.00,22.00,22.00,22.00,22.00,22.00,22.00,23.00,23.00,23.00,23.00,23.00,23.00,23.00,23.00,24.00,24.00,24.00,24.00,24.00,24.00,24.00,24.00,25.00,25.00,25.00,25.00,25.00,25.00,25.00,25.00,25.00,26.00,26.00,26.00,26.00,26.00,26.00,26.00,26.00,26.00,26.00,27.00,27.00,27.00,27.00,27.00,27.00,27.00,27.00,27.00,27.00,28.00,28.00,28.00,28.00,28.00,28.00,28.00,28.00,28.00,28.00,28.00,28.00,28.00,29.00,29.00,29.00,29.00,29.00,29.00,29.00,29.00,29.00,29.00,29.00,29.00,29.00,29.00,29.00,30.00,30.00,30.00,30.00,30.00,30.00,30.00,30.00,30.00,30.00,30.00,30.00,30.00,30.00,30.00,30.00,30.00,30.00,30.00,30.00,30.00,31.00,31.00,31.00,31.00,31.00,31.00,31.00,31.00,31.00,31.00,31.00,31.00,31.00,31.00,31.00,31.00,31.00,31.00,31.00,31.00,31.00,31.00,31.00,31.00,31.00,31.00,31.00,31.00,31.00,31.00,31.00,31.00,31.00,31.00,31.00,31.00,31.00,31.00,31.00,31.00,31.00,31.00,31.00,31.00,31.00,31.00,31.00,31.00,31.00,31.00,31.00,31.00,31.00,31.00,31.00,31.00,31.00,31.00,31.00,30.00,30.00,30.00,30.00,30.00,30.00,30.00,30.00,30.00,30.00,30.00,30.00,30.00,30.00,30.00,30.00,30.00,30.00,30.00,30.00,30.00,29.00,29.00,29.00,29.00,29.00,29.00,29.00,29.00,29.00,29.00,29.00,29.00,29.00,29.00,29.00,28.00,28.00,28.00,28.00,28.00,28.00,28.00,28.00,28.00,28.00,28.00,28.00,28.00,27.00,27.00,27.00,27.00,27.00,27.00,27.00,27.00,27.00,27.00,26.00,26.00,26.00,26.00,26.00,26.00,26.00,26.00,26.00,26.00,25.00,25.00,25.00,25.00,25.00,25.00,25.00,25.00,25.00,24.00,24.00,24.00,24.00,24.00,24.00,24.00,24.00,23.00,23.00,23.00,23.00,23.00,23.00,23.00,23.00,22.00,22.00,22.00,22.00,22.00,22.00,22.00,22.00,21.00,21.00,21.00,21.00,21.00,21.00,21.00,20.00,20.00,20.00,20.00,20.00,20.00,20.00,19.00,19.00,19.00,19.00,19.00,19.00,18.00,18.00,18.00,18.00,18.00,18.00,18.00,17.00,17.00,17.00,17.00,17.00,17.00,16.00,16.00,16.00,16.00,16.00,16.00,15.00,15.00,15.00,15.00,15.00,15.00,14.00,14.00,14.00,14.00,14.00,14.00,13.00,13.00,13.00,13.00,13.00,13.00,12.00,12.00,12.00,12.00,12.00,12.00,11.00,11.00,11.00,11.00,11.00,10.00,10.00,10.00,10.00,10.00,10.00,9.00,9.00,9.00,9.00,9.00,8.00,8.00,8.00,8.00,8.00,8.00,7.00,7.00,7.00,7.00,7.00,6.00,6.00,6.00,6.00,6.00,5.00,5.00,5.00,5.00,5.00,5.00,4.00,4.00,4.00,4.00,4.00,3.00,3.00,3.00,3.00,3.00,2.00,2.00,2.00,2.00,2.00,2.00,1.00,1.00,1.00,1.00,1.00,0.00,0.00,0.00,-1.00,-1.00,-1.00,-1.00,-1.00,-2.00,-2.00,-2.00,-2.00,-2.00,-3.00,-3.00,-3.00,-3.00,-3.00,-4.00,-4.00,-4.00,-4.00,-4.00,-4.00,-5.00,-5.00,-5.00,-5.00,-5.00,-6.00,-6.00,-6.00,-6.00,-6.00,-7.00,-7.00,-7.00,-7.00,-7.00,-7.00,-8.00,-8.00,-8.00,-8.00,-8.00,-9.00,-9.00,-9.00,-9.00,-9.00,-9.00,-10.00,-10.00,-10.00,-10.00,-10.00,-11.00,-11.00,-11.00,-11.00,-11.00,-11.00,-12.00,-12.00,-12.00,-12.00,-12.00,-13.00,-13.00,-13.00,-13.00,-13.00,-13.00,-14.00,-14.00,-14.00,-14.00,-14.00,-14.00,-15.00,-15.00,-15.00,-15.00,-15.00,-15.00,-16.00,-16.00,-16.00,-16.00,-16.00,-16.00,-17.00,-17.00,-17.00,-17.00,-17.00,-17.00,-18.00,-18.00,-18.00,-18.00,-18.00,-18.00,-19.00,-19.00,-19.00,-19.00,-19.00,-19.00,-19.00,-20.00,-20.00,-20.00,-20.00,-20.00,-20.00,-20.00,-21.00,-21.00,-21.00,-21.00,-21.00,-21.00,-21.00,-22.00,-22.00,-22.00,-22.00,-22.00,-22.00,-22.00,-23.00,-23.00,-23.00,-23.00,-23.00,-23.00,-23.00,-23.00,-24.00,-24.00,-24.00,-24.00,-24.00,-24.00,-24.00,-24.00,-25.00,-25.00,-25.00,-25.00,-25.00,-25.00,-25.00,-25.00,-26.00,-26.00,-26.00,-26.00,-26.00,-26.00,-26.00,-26.00,-26.00,-26.00,-27.00,-27.00,-27.00,-27.00,-27.00,-27.00,-27.00,-27.00,-27.00,-27.00,-28.00,-28.00,-28.00,-28.00,-28.00,-28.00,-28.00,-28.00,-28.00,-28.00,-28.00,-29.00,-29.00,-29.00,-29.00,-29.00,-29.00,-29.00,-29.00,-29.00,-29.00,-29.00,-29.00,-29.00,-29.00,-30.00,-30.00,-30.00,-30.00,-30.00,-30.00,-30.00,-30.00,-30.00,-30.00,-30.00,-30.00,-30.00,-30.00,-30.00,-30.00,-30.00,-31.00,-31.00,-31.00,-31.00,-31.00,-31.00,-31.00,-31.00,-31.00,-31.00,-31.00,-31.00,-31.00,-31.00,-31.00,-31.00,-31.00,-31.00,-31.00,-31.00,-31.00,-31.00,-31.00,-31.00,-31.00,-31.00,-31.00,-31.00,-31.00,-31.00,-31.00,-31.00,-31.00,-31.00,-31.00,-31.00,-31.00,-31.00,-31.00,-31.00,-31.00,-31.00,-31.00,-31.00,-31.00,-31.00,-31.00,-31.00,-31.00,-31.00,-31.00,-31.00,-31.00,-31.00,-31.00,-31.00,-31.00,-31.00,-31.00,-31.00,-31.00,-31.00,-31.00,-31.00,-31.00,-31.00,-31.00,-31.00,-31.00,-31.00,-31.00,-31.00,-31.00,-31.00,-31.00,-31.00,-31.00,-31.00,-31.00,-31.00,-31.00,-31.00,-31.00,-30.00,-30.00,-30.00,-30.00,-30.00,-30.00,-30.00,-30.00,-30.00,-30.00,-30.00,-30.00,-30.00,-30.00,-30.00,-30.00,-30.00,-29.00,-29.00,-29.00,-29.00,-29.00,-29.00,-29.00,-29.00,-29.00,-29.00,-29.00,-29.00,-29.00,-29.00,-28.00,-28.00,-28.00,-28.00,-28.00,-28.00,-28.00,-28.00,-28.00,-28.00,-28.00,-27.00,-27.00,-27.00,-27.00,-27.00,-27.00,-27.00,-27.00,-27.00,-27.00,-26.00,-26.00,-26.00,-26.00,-26.00,-26.00,-26.00,-26.00,-26.00,-26.00,-25.00,-25.00,-25.00,-25.00,-25.00,-25.00,-25.00,-25.00,-24.00,-24.00,-24.00,-24.00,-24.00,-24.00,-24.00,-24.00,-23.00,-23.00,-23.00,-23.00,-23.00,-23.00,-23.00,-23.00,-22.00,-22.00,-22.00,-22.00,-22.00,-22.00,-22.00,-21.00,-21.00,-21.00,-21.00,-21.00,-21.00,-21.00,-20.00,-20.00,-20.00,-20.00,-20.00,-20.00,-20.00,-19.00,-19.00,-19.00,-19.00,-19.00,-19.00,-19.00,-18.00,-18.00,-18.00,-18.00,-18.00,-18.00,-17.00,-17.00,-17.00,-17.00,-17.00,-17.00,-16.00,-16.00,-16.00,-16.00,-16.00,-16.00,-15.00,-15.00,-15.00,-15.00,-15.00,-15.00,-14.00,-14.00,-14.00,-14.00,-14.00,-14.00,-13.00,-13.00,-13.00,-13.00,-13.00,-13.00,-12.00,-12.00,-12.00,-12.00,-12.00,-11.00,-11.00,-11.00,-11.00,-11.00,-11.00,-10.00,-10.00,-10.00,-10.00,-10.00,-9.00,-9.00,-9.00,-9.00,-9.00,-9.00,-8.00,-8.00,-8.00,-8.00,-8.00,-7.00,-7.00,-7.00,-7.00,-7.00,-7.00,-6.00,-6.00,-6.00,-6.00,-6.00,-5.00,-5.00,-5.00,-5.00,-5.00,-4.00,-4.00,-4.00,-4.00,-4.00,-4.00,-3.00,-3.00,-3.00,-3.00,-3.00,-2.00,-2.00,-2.00,-2.00,-2.00,-1.00,-1.00,-1.00,-1.00,-1.00,-1.00,0.00,0.00,1.00,1.00,1.00,1.00,1.00,2.00,2.00,2.00,2.00,2.00,2.00,3.00,3.00,3.00,3.00,3.00,4.00,4.00,4.00,4.00,4.00,5.00,5.00,5.00,5.00,5.00,5.00,6.00,6.00,6.00,6.00,6.00,7.00,7.00,7.00,7.00,7.00,8.00,8.00,8.00,8.00,8.00,8.00,9.00,9.00,9.00,9.00,9.00,10.00,10.00,10.00,10.00,10.00,10.00,11.00,11.00,11.00,11.00,11.00,12.00,12.00,12.00,12.00,12.00,12.00,13.00,13.00,13.00,13.00,13.00,13.00,14.00,14.00,14.00,14.00,14.00,14.00,15.00,15.00,15.00,15.00,15.00,15.00,16.00,16.00,16.00,16.00,16.00,16.00,17.00,17.00,17.00,17.00,17.00,17.00,18.00,18.00,18.00,18.00,18.00,18.00,18.00,19.00,19.00,19.00,19.00,19.00,19.00,20.00,20.00,20.00,20.00,20.00,20.00,20.00,21.00,21.00,21.00,21.00,21.00,21.00,21.00,22.00,22.00,22.00,22.00,22.00,22.00,22.00,22.00,23.00,23.00,23.00,23.00,23.00,23.00,23.00,23.00,24.00,24.00,24.00,24.00,24.00,24.00,24.00,24.00,25.00,25.00,25.00,25.00,25.00,25.00,25.00,25.00,25.00,26.00,26.00,26.00,26.00,26.00,26.00,26.00,26.00,26.00,26.00,27.00,27.00,27.00,27.00,27.00,27.00,27.00,27.00,27.00,27.00,28.00,28.00,28.00,28.00,28.00,28.00,28.00,28.00,28.00,28.00,28.00,28.00,28.00,29.00,29.00,29.00,29.00,29.00,29.00,29.00,29.00,29.00,29.00,29.00,29.00,29.00,29.00,29.00,30.00,30.00,30.00,30.00,30.00,30.00,30.00,30.00,30.00,30.00,30.00,30.00,30.00,30.00,30.00,30.00,30.00,30.00,30.00,30.00,30.00,31.00,31.00,31.00,31.00,31.00,31.00,31.00,31.00,31.00,31.00,31.00,31.00,31.00,31.00,31.00,31.00,31.00,31.00,31.00,31.00,31.00,31.00,31.00,31.00,31.00,31.00,31.00,31.00,31.00};
void UserTask_OneKeyCmd(void)//一键任务
{
    static u8 one_key_takeoff_f = 1, one_key_land_f = 1, one_key_mission_f = 0;
    static u8 mission_step,eme_stop=1,pi_start_f=0,now_task_mode=0;
	mission_flag=one_key_mission_f;
	//////////////////////////////////////////////////////////////////////////////////
    //一键起飞 降落判断有遥控信号才执行
    if (rc_in.no_signal == 0)
    {
       //判断第6通道拨杆位置 1300<CH_6<1700
        if (rc_in.rc_ch.st_data.ch_[ch_6_aux2] > 1700 && rc_in.rc_ch.st_data.ch_[ch_6_aux2] < 2200)
        {
            //还没有执行
            if (one_key_takeoff_f == 0)
            {
                //标记已经执行
                one_key_takeoff_f =
                    //执行一键起飞 
                    OneKey_Takeoff(100); //参数单位：厘米； 0：默认上位机设置的高度。
            }
        }
        else
        {
            //复位标记，以便再次执行
            one_key_takeoff_f = 0;
        }
        //
        //判断第6通道拨杆位置 800<CH_6<1200
        if (rc_in.rc_ch.st_data.ch_[ch_6_aux2] > 800 && rc_in.rc_ch.st_data.ch_[ch_6_aux2] < 1200)
        {
            //还没有执行
            if (one_key_land_f == 0)
            {
                //标记已经执行
                one_key_land_f =
                    //执行一键降落
                    OneKey_Land();
            }
        }
        else
        {
            //复位标记，以便再次执行
            one_key_land_f = 0;
        }
	}
    ////////////////////////////////////////////////////////////////////////
	//一键锁桨
	if (rc_in.rc_ch.st_data.ch_[ch_8_aux4] > 1700 &&rc_in.rc_ch.st_data.ch_[ch_8_aux4] < 2200) 
	{
		if (eme_stop == 0) 
		{
			eme_stop = 1;
			//执行一键锁桨
			FC_Lock();
			pwm_to_esc.pwm_m1 = 0;
			pwm_to_esc.pwm_m2 = 0;
			pwm_to_esc.pwm_m3 = 0; 
			pwm_to_esc.pwm_m4 = 0;
		}
	} 
	else 
	{
		eme_stop = 0;
	}
	///////////////////////////////////////////////////////////////////////
	//任务启动
	if((rc_in.rc_ch.st_data.ch_[ch_7_aux3]>1700 && rc_in.rc_ch.st_data.ch_[ch_7_aux3]<2200)||(received_data.next_task_sign==1&&mission_done_flag==0))
		{
			//还没有执行
			if(one_key_mission_f ==0)
			{
				//标记已经执行
				one_key_mission_f = 1;
				//开始流程
				mission_step = 0;
				now_task_mode=received_data.task_sta;
			}
		}
		else
		{
			//复位标记，以便再次执行1
			if(received_data.next_task_sign==0) mission_done_flag=0;
			one_key_mission_f = 0;	
			if(one_key_mission_f==1)OneKey_Land();			
		}
		
	//////////////////////////////////////////////////////////////////////
	///////////////////////////////////////////////////////////////////////
	//任务列表
	if(one_key_mission_f==1)
		{
			static u16 time_dly_cnt_ms;
			static s16 integ_x,integ_y;
			static s16 integ_x_base,integ_y_base;
			static s32 pos_x_base,pos_y_base;
			static u16 icount=0;
			//
			switch(now_task_mode)
			{
				case 0x00://基础任务流程
				{
					switch(mission_step)
					{
						case 0:
						{
							//reset
							time_dly_cnt_ms = 0;
							integ_x=0;
							integ_y=0;
							integ_x_base=0;
							integ_y_base=0;
							mission_step +=1;
						}
						break;
						case 1://解锁
						{
							if(time_dly_cnt_ms<10000)//保命延时
							{
								time_dly_cnt_ms+=20;//ms
							}
							else
							{
								time_dly_cnt_ms = 0;
								PID_height_init();
								mission_step +=FC_Unlock();
							}
						}
						break;
						case 2://起飞60cm
						{
							if(time_dly_cnt_ms<3500)//转桨延时
							{
								time_dly_cnt_ms+=20;//ms
							}
							else
							{
								time_dly_cnt_ms = 0;
								mission_step += OneKey_Takeoff(60);
								one_key_takeoff_f=1;
							}
						}
						break;
						case 3://等10秒
						{
							if(time_dly_cnt_ms<12000)//任务延时
							{
								time_dly_cnt_ms+=20;//ms
							}
							else
							{
								time_dly_cnt_ms = 0;
								mission_step += 1;
							}
						}
						break;
						case 4://定高准备
						{
							pid_speed=0;
							PID_height_init();
							time_dly_cnt_ms = 0;
							mission_step += 1;
						}	
						break;
						case 5://5S定高120cm  积分准备
						{
							if(time_dly_cnt_ms<11000)
							{
								tar_setdata(0,0,height_set(ano_of.of_alt_cm,120),0);
								time_dly_cnt_ms+=20;//ms
							}
							else
							{ 
								tar_setdata(0,0,0,0);
								time_dly_cnt_ms = 0;
								mission_step += 1;
								integ_x_base=ano_of.intergral_x;
							}
						}
						break;
						case 6://定高120cm并前进200cm
						{
							if(ano_of.intergral_x-integ_x_base<440)
							{
								tar_setdata(speed_x,0,height_set(ano_of.of_alt_cm,120),0);
							}
							else
							{
								integ_x_base=0;
								pid_speed=0;
								tar_setdata(0,0,0,0);
								time_dly_cnt_ms = 0;
								mission_step += 1;
							}
						}
						break;
						default:
						{
							mission_done_flag=1;
							OneKey_Land();
						}
						break;
					}
					
				}
				break;
				case 0x01://矩形
				{
					switch(mission_step)
					{
						case 0:
						{
							//reset
							time_dly_cnt_ms = 0;
							integ_x=0;
							integ_y=0;
							integ_x_base=0;
							integ_y_base=0;
							mission_step +=1;
						}
						break;
						case 1://解锁
							if(time_dly_cnt_ms<10000)//保命延时
							{
								time_dly_cnt_ms+=20;//ms
							}
							else
							{
								time_dly_cnt_ms = 0;
								PID_height_init();
								mission_step +=FC_Unlock();
							}
						break;
						case 2://起飞60cm
						{
							if(time_dly_cnt_ms<3500)//转桨延时
							{
								time_dly_cnt_ms+=20;//ms
							}
							else
							{
								time_dly_cnt_ms = 0;
								mission_step += OneKey_Takeoff(100);
								one_key_takeoff_f=1;
							}
						}
						break;
						case 3://等1秒
						{
							if(time_dly_cnt_ms<1000)//任务延时
							{
								time_dly_cnt_ms+=20;//ms
							}
							else
							{
								time_dly_cnt_ms = 0;
								mission_step += 1;
							}
						}
						break;
						case 4://定高前进准备
						{
							pid_speed=0;
							PID_height_init();
							time_dly_cnt_ms = 0;
							mission_step += 1;
						}	
						break;
						case 5://定高3s
						{
							if(time_dly_cnt_ms<3000)//转桨延时
							{
								time_dly_cnt_ms+=20;//ms
								tar_setdata(0,0,height_set(ano_of.of_alt_cm,100),0);
							}
							else
							{
								tar_setdata(0,0,0,0);
								time_dly_cnt_ms = 0;
								mission_step += 1;
								pos_x_base=fc_pos.st_data.vel_x;
							}
						}
						break;
						case 6://定高100cm  GPS积分前进2m
						{
							if(fc_pos.st_data.vel_x-pos_x_base<200)
							{
								tar_setdata(speed_x,0,height_set(ano_of.of_alt_cm,100),0);
								time_dly_cnt_ms+=20;//ms
							}
							else
							{ 
								tar_setdata(0,0,0,0);
								time_dly_cnt_ms = 0;
								mission_step += 1;
								pos_y_base=fc_pos.st_data.vel_y;
							}
						}
						break;
						case 7://定高100cm GPS积分左移2m
						{
							if(fc_pos.st_data.vel_y-pos_y_base<200)
							{
								tar_setdata(0,speed_y,height_set(ano_of.of_alt_cm,100),0);
							}
							else
							{
								pid_speed=0;
								tar_setdata(0,0,0,0);
								time_dly_cnt_ms = 0;
								pos_x_base=fc_pos.st_data.vel_x;
								mission_step += 1;
							}
						}
						break;
						case 8://定高100cm  GPS积分后退2m
						{
							if(fc_pos.st_data.vel_x-pos_x_base>-200)
							{
								tar_setdata(-speed_x,0,height_set(ano_of.of_alt_cm,100),0);
								time_dly_cnt_ms+=20;//ms
							}
							else
							{ 
								tar_setdata(0,0,0,0);
								time_dly_cnt_ms = 0;
								pos_y_base=fc_pos.st_data.vel_y;
								mission_step += 1;
							}
						}
						break;
						case 9://定高100cm  GPS积分右移2m
						{
							if(fc_pos.st_data.vel_y-pos_y_base>-200)
							{
								tar_setdata(0,-speed_y,height_set(ano_of.of_alt_cm,100),0);
								time_dly_cnt_ms+=20;//ms
							}
							else
							{ 
								tar_setdata(0,0,0,0);
								time_dly_cnt_ms = 0;
								mission_step += 1;
							}
						}
						break;
						default:
						{
							mission_done_flag=1;
							OneKey_Land();
						}
						break;
					}
				}
				break;
				case 0x02://圆形
				{
					switch(mission_step)
					{
						case 0:
						{
							//reset
							time_dly_cnt_ms = 0;
							integ_x=0;
							integ_y=0;
							integ_x_base=0;
							integ_y_base=0;
							mission_step +=1;
						}
						break;
						case 1://解锁
							if(time_dly_cnt_ms<10000)//保命延时
							{
								time_dly_cnt_ms+=20;//ms
							}
							else
							{
								time_dly_cnt_ms = 0;
								PID_height_init();
								mission_step +=FC_Unlock();
							}
						break;
						case 2://起飞100cm
						{
							if(time_dly_cnt_ms<3500)//转桨延时
							{
								time_dly_cnt_ms+=20;//ms
							}
							else
							{
								time_dly_cnt_ms = 0;
								mission_step += OneKey_Takeoff(100);
								one_key_takeoff_f=1;
							}
						}
						break;
						case 3://等1秒
						{
							if(time_dly_cnt_ms<1000)//任务延时
							{
								time_dly_cnt_ms+=20;//ms
							}
							else
							{
								time_dly_cnt_ms = 0;
								mission_step += 1;
							}
						}
						break;
						case 4://定高前进准备
						{
							pid_speed=0;
							PID_height_init();
							time_dly_cnt_ms = 0;
							mission_step += 1;
							integ_x_base=ano_of.intergral_x;
						}	
						break;
					
						case 5://定高5s 画圆准备
						{
							if(time_dly_cnt_ms<4000)//转桨延时
							{
								tar_setdata(0,0,height_set(ano_of.of_alt_cm,100),0);
								time_dly_cnt_ms+=20;//ms
							}
							else
							{
								time_dly_cnt_ms = 0;
								mission_step += 1;
								pos_x_base=fc_pos.st_data.vel_x;
								pos_y_base=fc_pos.st_data.vel_y;
								icount=0;
							}
						}
						break;
						case 6://定高120cm并前进200cm
						{
							if(ano_of.intergral_x-integ_x_base<120)
							{
								tar_setdata(speed_x,0,height_set(ano_of.of_alt_cm,100),0);
							}
							else
							{
								pid_speed=0;
								tar_setdata(0,0,0,0);
								time_dly_cnt_ms = 0;
								mission_step += 1;
							}
						}
						break;
						case 7://定高100cm  画圆
						{
							if(time_dly_cnt_ms<20500)
							{
								tar_setdata(cnmsin[icount],cnmcos[icount],height_set(ano_of.of_alt_cm,100),0);
								time_dly_cnt_ms+=20;
								icount++;
							}
							else
							{ 
								tar_setdata(0,0,0,0);
								time_dly_cnt_ms = 0;
								mission_step += 1;
							}
						}
						break;
						default:
						{
							mission_done_flag=1;
							OneKey_Land();
						}
						break;
					}
				}
				break;
				case 0x03://开环矩形
				{
					switch(mission_step)
					{
						case 0:
						{
							//reset
							time_dly_cnt_ms = 0;
							integ_x=0;
							integ_y=0;
							integ_x_base=0;
							integ_y_base=0;
							mission_step +=1;
						}
						break;
						case 1://解锁
						{
							if(time_dly_cnt_ms<10000)//保命延时
							{
								time_dly_cnt_ms+=20;//ms
							}
							else
							{
								time_dly_cnt_ms = 0;
								PID_height_init();
								mission_step +=FC_Unlock();
							}
						}
						break;
						case 2://起飞60cm
						{
							if(time_dly_cnt_ms<3500)//转桨延时
							{
								time_dly_cnt_ms+=20;//ms
							}
							else
							{
								time_dly_cnt_ms = 0;
								mission_step += OneKey_Takeoff(100);
								one_key_takeoff_f=1;
							}
						}
						break;
						case 3://等1秒
						{
							if(time_dly_cnt_ms<1000)//任务延时
							{
								time_dly_cnt_ms+=20;//ms
							}
							else
							{
								time_dly_cnt_ms = 0;
								mission_step += 1;
							}
						}
						break;
						case 4://定高准备
						{
							pid_speed=0;
							PID_height_init();
							time_dly_cnt_ms = 0;
							mission_step += 1;
						}	
						break;
						case 5://5S定高120cm  积分准备
						{
							if(time_dly_cnt_ms<5000)
							{
								tar_setdata(0,0,height_set(ano_of.of_alt_cm,100),0);
								time_dly_cnt_ms+=20;//ms
							}
							else
							{ 
								tar_setdata(0,0,0,0);
								time_dly_cnt_ms = 0;
								mission_step += 1;
								integ_x_base=ano_of.intergral_x;
							}
						}
						break;
						case 6://定高120cm并前进200cm
						{
							if(ano_of.intergral_x-integ_x_base<120)
							{
								tar_setdata(speed_x,0,height_set(ano_of.of_alt_cm,100),0);
							}
							else
							{
								integ_y_base=ano_of.intergral_y;
								pid_speed=0;
								tar_setdata(0,0,0,0);
								time_dly_cnt_ms = 0;
								mission_step += 1;
							}
						}
						break;
						case 7://定高120cm并前进200cm
						{
							if(ano_of.intergral_y-integ_y_base>-100)
							{
								tar_setdata(0,-speed_y,height_set(ano_of.of_alt_cm,100),0);
							}
							else
							{
								integ_x_base=ano_of.intergral_x;
								pid_speed=0;
								tar_setdata(0,0,0,0);
								time_dly_cnt_ms = 0;
								mission_step += 1;
							}
						}
						break;
						case 8://定高120cm并前进200cm
						{
							if(ano_of.intergral_x-integ_x_base<200)
							{
								tar_setdata(speed_x,0,height_set(ano_of.of_alt_cm,100),0);
							}
							else
							{
								integ_y_base=ano_of.intergral_y;
								pid_speed=0;
								tar_setdata(0,0,0,0);
								time_dly_cnt_ms = 0;
								mission_step += 1;
							}
						}
						break;
						case 9://定高120cm并前进200cm
						{
							if(ano_of.intergral_y-integ_y_base<190)
							{
								tar_setdata(0,speed_y,height_set(ano_of.of_alt_cm,100),0);
							}
							else
							{
								pid_speed=0;
								tar_setdata(0,0,0,0);
								time_dly_cnt_ms = 0;
								mission_step += 1;
							}
						}
						break;
						case 10://定高120cm并前进200cm
						{
							if(ano_of.intergral_x-integ_x_base>0)
							{
								tar_setdata(-speed_x,0,height_set(ano_of.of_alt_cm,100),0);
							}
							else
							{
								pid_speed=0;
								tar_setdata(0,0,0,0);
								time_dly_cnt_ms = 0;
								mission_step += 1;
							}
						}
						break;
						case 11://定高120cm并前进200cm
						{
							if(ano_of.intergral_y-integ_y_base>0)
							{
								tar_setdata(0,-speed_y,height_set(ano_of.of_alt_cm,100),0);
							}
							else
							{
								pid_speed=0;
								tar_setdata(0,0,0,0);
								time_dly_cnt_ms = 0;
								mission_step += 1;
							}
						}
						break;
						default:
						{
							mission_done_flag=1;
							OneKey_Land();
						}
						break;
					}
				break;			
				}
			}
			
		}
		else
		{
			mission_step = 0;
		}
}
*/